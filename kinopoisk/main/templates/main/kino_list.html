{%load static%}


<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
       <link rel="stylesheet" href="{% static 'main/css/style.css'%}">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ title }}</title>
</head>
<body>
<div class="header">
    <h1>КинОnlineТеатр</h1>

</div>
<div class="topnav">
    <a href="">Главная</a>
    <a href="{% url 'playlist' %}">Создать плейлист</a>
    <a href="/">Выйти</a>
</div>


<h2>Фильмы</h2>
{% if kino_list %}
<table class="table">
    <tr>
        <th> Кино</th>
        <th> Описание</th>
        <th> Жанр</th>
        <th> Киностудия</th>
        <th> Тип </th>
        <th>Год выпуска</th>
        <th>Редактировать/Удалить</th>

    </tr>
    {% for el in kino_list %}
    <tr>
            <td> {{ el.title }}</td>

         <td>{{ el.desc }}</td>
         <td>
              {% for genre in el.genres.all %}
                  {{ genre.name }}
              {% endfor %}
         </td>
        <td>{{ el.studio.name }}</td>
        <td>{{ el.type.typename }}</td>
        <td>{{ el.year }}</td>
        <td><a href="{% url 'updatefilms' el.pk %}">Обновить</a>
            <a href="{% url 'deletefilms' el.pk %}">Удалить</a>
        </td>
    </tr>
    {% endfor %}
</table>
    <form action="{% url 'filter' %}" method="get">
        {% for genre in view.get_genres %}
            {% if genre.id != 1 %}
                <li>
                    <input type="checkbox" name="genre" value="{{ genre.id }}">
                    <span >{{ genre.name }}</span>
                </li>
            {% endif %}
        {% endfor %}

         {% for year in view.get_years %}
             <li>
                 <input type="checkbox" name="year" value="{{ year.year }}">
                <span >{{  year.year }}</span>
             </li>
         {% endfor %}
     <button type="submit">Фильтр</button>
     </form>



{% else %}
<p>У нас нет фильмов(((</p>
{% endif %}


</body>
</html>